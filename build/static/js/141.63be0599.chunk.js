"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[141],{1141:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r=t(4165),i=t(5861),s=t(1413),a=t(885),o=t(2791),l=t(6015),c=t(4565),u=t(1441),d=t(2943),h=t(1680),p=t(9773),x=t(4390),g=t(9963),Z=t(9827),m=t(807),f=t(7205),j=t(1286),b=t(2271),v=t(184),k=function(e){var n=e.userList,t=e.page,r=e.onClickOpenDialogDelete,i=e.onClickOpenDialogEditUser;return(0,v.jsx)(l.Z,{mt:2,children:(0,v.jsx)(g.Z,{children:(0,v.jsxs)(h.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,v.jsx)(Z.Z,{children:(0,v.jsxs)(m.Z,{children:[(0,v.jsx)(x.Z,{align:"left",style:{fontWeight:"bold",fontSize:"16px"},children:"STT"}),(0,v.jsx)(x.Z,{align:"left",style:{fontWeight:"bold",fontSize:"16px"},children:"T\xean t\xe0i kho\u1ea3n"}),(0,v.jsx)(x.Z,{align:"left",style:{fontWeight:"bold",fontSize:"16px"},children:"M\u1eadt kh\u1ea9u"}),(0,v.jsx)(x.Z,{align:"right",style:{fontWeight:"bold",fontSize:"16px"},children:"Thao t\xe1c"})]})}),(0,v.jsx)(p.Z,{children:n.map((function(e,n){return(0,v.jsxs)(m.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,v.jsx)(x.Z,{component:"th",scope:"row",children:10*(t-1)+1+n}),(0,v.jsx)(x.Z,{align:"left",style:{fontWeight:"bold"},children:e.username}),(0,v.jsx)(x.Z,{align:"left",children:e.password}),(0,v.jsxs)(x.Z,{align:"right",children:[(0,v.jsxs)(f.Z,{variant:"contained",color:"success",style:{marginRight:"12px"},onClick:function(){return i(e)},children:[(0,v.jsx)(j.Z,{style:{fontSize:"20px",marginRight:"4px"}})," S\u1eeda"]}),(0,v.jsxs)(f.Z,{variant:"contained",color:"error",onClick:function(){return r(e._id)},children:[(0,v.jsx)(b.Z,{style:{fontSize:"20px",marginRight:"4px"}})," X\xf3a"]})]})]},e._id)}))})]})})})},y=t(2083),w=t(1888),C=t(5953),S=t(8163),D=t(2797),T=t(1134),z=t(4695),V=t(2419),U=D.Ry({username:D.Z_().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n").min(5,"L\u1ed7i: T\xean t\xe0i kho\u1ea3n ph\u1ea3i nhi\u1ec1u h\u01a1n 5 k\xed t\u1ef1"),password:D.Z_().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),thutu:D.Rx().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp th\u1ee9 t\u1ef1").min(1,"Th\u1ee9 t\u1ef1 ph\u1ea3i l\u1edbn h\u01a1n 1")}).required(),P=function(e){var n=e.onSubmit,t=(0,T.cI)({defaultValues:{username:"",password:"",thutu:1},resolver:(0,z.X)(U)}),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,n(i);case 3:t.reset();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a=t.formState.isSubmitting;return(0,v.jsxs)(l.Z,{mt:2,children:[a?(0,v.jsx)(w.Z,{}):"",(0,v.jsx)("form",{onSubmit:t.handleSubmit(s),style:{width:"100%"},children:(0,v.jsxs)("fieldset",{style:{border:"1px solid #ddd",paddingBlockEnd:"12px"},children:[(0,v.jsx)("legend",{style:{paddingInline:"12px"},children:"Th\xeam m\u1edbi t\xe0i kho\u1ea3n:"}),(0,v.jsxs)(C.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"username",form:t,label:"T\xean t\xe0i kho\u1ea3n *",type:"text",disabled:!1})}),(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"password",form:t,label:"M\u1eadt kh\u1ea9u *",type:"text",disabled:!1})}),(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"thutu",form:t,label:"Th\u1ee9 t\u1ef1",type:"number",disabled:!1})}),(0,v.jsx)(C.ZP,{item:!0,xs:12,md:12,lg:12,style:{textAlign:"center"},children:(0,v.jsxs)(f.Z,{color:"primary",variant:"contained",disabled:a,type:"submit",children:[(0,v.jsx)(V.Z,{}),(0,v.jsx)("span",{children:"Th\xeam m\u1edbi"})]})})]})]})})]})},O=t(1319),_=t(7689),L=t(1087),R=t(4245),q=t(5588),E=t(788),W=t(7323),M=t(8440),I=t(9571),B=t(464),X=t(2232),K=t(9065),N=t(872),A=t(6711),F=o.forwardRef((function(e,n){return(0,v.jsx)(X.Z,(0,s.Z)({direction:"up",ref:n},e))}));function H(e){var n=e.open,t=e.onCloseDialogDelete,r=e.onConfirmDelete,i=e.onCancelDelete;return(0,v.jsx)("div",{children:(0,v.jsxs)(E.Z,{disableEscapeKeyDown:!0,onClose:function(e,n){"backdropClick"!==n&&t(e,n)},open:n,TransitionComponent:F,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,v.jsxs)(B.Z,{style:{display:"flex",borderBottom:"1px solid #ccc",margin:"0 12px"},children:[(0,v.jsx)(K.Z,{style:{color:"red",fontSize:"32px"}}),(0,v.jsx)("span",{children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a m\u1ee5c n\xe0y hay kh\xf4ng?"})]}),(0,v.jsx)(M.Z,{children:(0,v.jsx)(I.Z,{id:"alert-dialog-slide-description"})}),(0,v.jsxs)(W.Z,{children:[(0,v.jsxs)(f.Z,{variant:"contained",color:"success",onClick:r,children:[(0,v.jsx)(N.Z,{})," \u0110\u1ed3ng \xfd"]}),(0,v.jsxs)(f.Z,{variant:"contained",color:"error",onClick:i,children:[(0,v.jsx)(A.Z,{})," Cancel"]})]})]})})}var Q=t(8670),G=t(277),J=t(3811),Y=o.forwardRef((function(e,n){return(0,v.jsx)(X.Z,(0,s.Z)({direction:"up",ref:n},e))})),$=(0,G.ZP)(J.Z)({position:"absolute",right:"16px",top:"4px"}),ee=D.Ry({username:D.Z_().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n").min(5,"L\u1ed7i: T\xean t\xe0i kho\u1ea3n ph\u1ea3i nhi\u1ec1u h\u01a1n 5 k\xed t\u1ef1"),password:D.Z_().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),thutu:D.Rx().required("L\u1ed7i: Vui l\xf2ng nh\u1eadp th\u1ee9 t\u1ef1").min(1,"Th\u1ee9 t\u1ef1 ph\u1ea3i l\u1edbn h\u01a1n 1")}).required();function ne(e){var n=e.open,t=e.onCloseDialogEditUser,a=e.user,c=e.onSubmit,u=(0,T.cI)({defaultValues:{username:"  ",password:" ",thutu:1},resolver:(0,z.X)(ee)}),d=u.setValue;(0,o.useEffect)((function(){a&&(d("username",a.username,{shouldValidate:!0}),d("password",a.password,{shouldValidate:!0}),d("thutu",a.thutu,{shouldValidate:!0}))}),[a]);var h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return i=(0,s.Z)((0,s.Z)({},n),{},{id_edit:a._id}),e.next=4,c(i);case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=u.formState.isSubmitting;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(E.Z,{maxWidth:"md",disableEscapeKeyDown:!0,onClose:function(e,n){"backdropClick"!==n&&t(e,n)},open:n,TransitionComponent:Y,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,v.jsxs)(B.Z,{style:{display:"flex",borderBottom:"1px solid #ccc",margin:"0 12px"},children:[(0,v.jsx)(Q.Z,{style:{color:"#333",fontSize:"32px"}}),(0,v.jsx)("span",{children:"Ch\u1ec9nh s\u1eeda t\xe0i kho\u1ea3n ng\u01b0\u1eddi d\xf9ng"}),(0,v.jsx)($,{onClick:function(){return t()},children:(0,v.jsx)(A.Z,{style:{color:"#d32b2b"}})})]}),(0,v.jsx)(M.Z,{children:(0,v.jsxs)(l.Z,{children:[p?(0,v.jsx)(w.Z,{}):"",(0,v.jsxs)("form",{onSubmit:u.handleSubmit(h),style:{width:"100%"},children:[(0,v.jsxs)(C.ZP,{container:!0,spacing:1,style:{alignItems:"center",justifyContent:"center"},children:[(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"username",form:u,label:"T\xean t\xe0i kho\u1ea3n *",type:"text",disabled:!1})}),(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"password",form:u,label:"M\u1eadt kh\u1ea9u *",type:"text",disabled:!1})}),(0,v.jsx)(C.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,v.jsx)(S.U,{name:"thutu",form:u,label:"Th\u1ee9 t\u1ef1",type:"number",disabled:!1})})]}),(0,v.jsx)(W.Z,{children:(0,v.jsxs)(f.Z,{color:"primary",variant:"contained",disabled:p,type:"submit",style:{margin:"4px auto"},children:[(0,v.jsx)(V.Z,{}),(0,v.jsx)("span",{children:"C\u1eadp nh\u1eadt"})]})})]})]})})]})})}var te=function(e){var n=(0,o.useState)(!0),t=(0,a.Z)(n,2),h=t[0],p=t[1],x=(0,o.useState)([]),g=(0,a.Z)(x,2),Z=g[0],m=g[1],f=(0,o.useState)({page:1,total:1}),j=(0,a.Z)(f,2),b=j[0],w=j[1],C=(0,o.useState)({status:!1,id_Delete:null}),S=(0,a.Z)(C,2),D=S[0],T=S[1],z=(0,_.s0)(),V=(0,o.useState)({status:!1,user:null}),U=(0,a.Z)(V,2),E=U[0],W=U[1],M=(0,_.TH)(),I=(0,L.lr)(),B=(0,a.Z)(I,2),X=(B[0],B[1]),K=(0,q.Ds)().enqueueSnackbar,N=(0,o.useMemo)((function(){var e=R.parse(M.search);return(0,s.Z)((0,s.Z)({},e),{},{page:Number(e.page)||1})}),[M.search]);(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Z.getUsers(N.page);case 3:n=e.sent,m(n.data.users),w({page:Number(n.data.page),total:n.data.total}),p(!1),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),"Token kh\xf4ng h\u1ee3p l\u1ec7 vui l\xf2ng \u0111\u0103ng nh\u1eadp ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i"===e.t0.message&&z("/login"),console.log(e.t0.message),K(e.t0.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[N]);var A=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Z.addUser(n);case 3:t=e.sent,m(t.data.users),w({page:1,total:t.data.total}),i=(0,s.Z)((0,s.Z)({},N),{},{page:1}),X(i),K(t.data.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),K("C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam m\u1edbi t\xe0i kho\u1ea3n",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.page,i=(0,s.Z)((0,s.Z)({},n),{},{page:t}),e.prev=2,e.next=5,O.Z.editUser(i);case 5:a=e.sent,m(a.data.users),K(a.data.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),"Token kh\xf4ng h\u1ee3p l\u1ec7 vui l\xf2ng \u0111\u0103ng nh\u1eadp ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i"===e.t0.message&&z("/login"),K(e.t0.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Z.deleteUser(D.id_Delete);case 3:n=e.sent,m(n.data.users),w((0,s.Z)((0,s.Z)({},b),{},{page:1,total:n.data.total})),t=(0,s.Z)((0,s.Z)({},N),{},{page:1}),X(t),T((0,s.Z)((0,s.Z)({},D),{},{status:!1})),K(n.data.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),"Token kh\xf4ng h\u1ee3p l\u1ec7 vui l\xf2ng \u0111\u0103ng nh\u1eadp ho\u1eb7c \u0111\xe3 h\u1ebft h\u1ea1n. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i"===e.t0.message&&z("/login"),K(e.t0.message,{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(l.Z,{style:{padding:"24px 12px"},children:[(0,v.jsxs)(l.Z,{style:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(y.Z,{style:{marginRight:"12px"}}),(0,v.jsx)(c.Z,{variant:"h5",children:"Qu\u1ea3n tr\u1ecb t\xe0i kho\u1ea3n h\u1ec7 th\u1ed1ng"})]}),(0,v.jsx)(P,{onSubmit:A}),h?(0,v.jsx)(u.Z,{variant:"rectangular",width:"100%",height:"450px"}):(0,v.jsx)(k,{userList:Z,page:b.page,onClickOpenDialogDelete:function(e){T({status:!0,id_Delete:e})},onClickOpenDialogEditUser:function(e){W({user:e,status:!0})}}),(0,v.jsx)(H,{open:D.status,onCloseDialogDelete:function(){T((0,s.Z)((0,s.Z)({},D),{},{status:!1}))},onConfirmDelete:Q,onCancelDelete:function(){T((0,s.Z)((0,s.Z)({},D),{},{status:!1}))}}),(0,v.jsx)(ne,{open:E.status,user:E.user,onCloseDialogEditUser:function(){W((0,s.Z)((0,s.Z)({},E),{},{status:!1}))},onSubmit:F}),(0,v.jsx)(d.Z,{page:b.page,totalPage:b.total,onChangePage:function(e){w((0,s.Z)((0,s.Z)({},b),{},{page:e}));var n=(0,s.Z)((0,s.Z)({},N),{},{page:e});X(n)}})]})}}}]);
//# sourceMappingURL=141.63be0599.chunk.js.map